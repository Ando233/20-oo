# Lab 10 Assignment

> 班级：202113
> 
> 学号：20373221
> 
> 姓名：王宇奇

## Question 1

程序：是为了完成某个特定的任务,而用某种语言编写的一组指令的集合,即指的是一段静态的代码,静态对象。

进程：是程序的一次执行过程,或是一个正在运行的程序。是一个动态的过程:有它自身的产生、存在、和消亡的过程——生命周期。 程序是静态的,进程是动态的。系统在运行时会为每个进程分配不同的内存空间。

线程：线程是一个比进程更小的执行单位。一个进程在其执行的过程中可以产生多个线程。与进程不同的是同类的多个线程共享同一块内存空间和一组系统资源，所以系统在产生一个线程，或是在各个线程之间作切换工作时，负担要比进程小得多，也正因为如此，线程也被称为轻量级进程。

## Question 2

1. 互斥条件： 一个资源每次只能被一个进程使用。
2. 请求与保持条件： 一个进程因请求资源而阻塞时，对已获得的资源保持不放。
3. 不剥夺条件：  进程已获得的资源，在末使用完之前，不能强行剥夺。
4. 循环等待条件：  若干进程之间形成一种头尾相接的循环等待资源关系。

## Question 3

1.继承Thread类，优点：编写简单清晰 缺点：无法继承其他类

2.实现Runnable接口，优点：可以继承其他类 缺点：编写略为复杂

## Question 4

(1) 错 线程是进程内部的执行单元

(2) 错 进程是资源分配的单位，而线程是CPU调度和执行的单位

(3) 错 相同优先级

(4) 错 该对象的 synchronized 方法不能进入了，但其他非 synchronized 方法仍可以访问。

(5) 错 是唤醒任意一个线程。

## Question 5

(1)

```
SyncThread1:0
SyncThread1:1
SyncThread1:2
SyncThread1:3
SyncThread1:4
SyncThread2:5
SyncThread2:6
SyncThread2:7
SyncThread2:8
SyncThread2:9
```

(2) 给run方法上锁，防止两个线程产生竞争，同时调用run方法

(3) 使当前线程休眠，进入阻塞状态。

用wait方法会改变输出，因为wait方法会释放该线程，从而调度其他线程。

## Question 6

(2) 创建三个线程命名为A,B,C，输出count遍ABC。

(3) 确保线程A的对象锁已经锁上，以防B的prev先于A的self进入wait pool

(4) 当三个线程同时启动，若线程A获得到对象c的锁，线程B获得对象a的锁，线程c获取到对象b的 锁，那么此时三者尝试获取第二个锁，但均被其余线程占用，进入死锁状态

## Question 7

见代码
